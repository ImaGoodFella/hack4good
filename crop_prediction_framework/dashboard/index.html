<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Hack4Good Crop failure detection</title>

<body>
    <div id="content">
        <div id="upload">
            <h3>Upload</h3>

            <form id="upload_form" action="/upload" method="post" enctype="multipart/form-data">
                <div class="form_row">
                    <div>CSV File:</div>
                    <input type="file" id="csv_file_input" name="csv_file" accept=".csv,.CSV" required/>
                </div>
                <br>
                <div class="form_row">
                    <div>Image File:</div>
                    <input type="file" id="image_file_input" name="img_file" accept=".jpg,.JPG,.png,.PNG,.webp,.WEBP" required/>
                </div>
                <br>
                <div id="copernicus_credentials">
                    <h3>
                        Copernicus Climate Store Credentials:
                    </h3>
                    <div class="form_row">
                        <div>URL:</div>
                        <input type="username" name="cdsapi_url" id="climate_store_url" />
                    </div>
                    <div class="form_row">
                        <div>Key:</div>
                        <input type="password" name="cdsapi_usr_id_key_pair" id="climate_store_key" />
                    </div>
                </div>
                <br>
                <div class="form_row">
                    <div></div>
                    <input type="submit" id="upload_button" value="Upload" />
                </div>
            </form>
            <div id="upload_error"></div>
            <!--Needs to be an iframe so the errors from flask do not overwrite our css-->
            <iframe src="about:blank" id="error_iframe">
            </iframe>
        </div>
        <div id="preview">
            <h3>Preview</h3>
            <img src="static/assets/empty_resource.svg" id="image_preview" />
            <table id="csv_preview">
                <tr>
                    <td>Date</td>
                    <td>Latitude</td>
                    <td>Longitude</td>
                    <td>Farmer ID</td>
                    <td>Site ID</td>
                </tr>
                <tr>
                    <th id="date"></th>
                    <th id="lat"></th>
                    <th id="lon"></th>
                    <th id="farmer_id"></th>
                    <th id="site_id"></th>
                </tr>
            </table>
        </div>
        <div id="results">
            <h3>Results</h3>
            <table id="results_table">
                <tr>
                    <td>Damage Extent</td>
                    <td>Damage Type</td>
                </tr>
                <tr>
                    <th id="damage_extent"></th>
                    <th id="damage_type"></th>
                </tr>
            </table>
        </div>
    </div>
</body>
<script src="static/js/script.js"></script>
<link rel="stylesheet" href="static/css/style.css">

</html>